# 部署

## H5部署
H5的部署和一个正常的网站部署是一样，并不存在微信或者小程序里面独特的步骤，所以我们直接省略。

## 小程序上线
注意事项：
+ <font color=#1E90FF>业务域名</font>：小程序当中是有`web-view`的，所以小程序可以开发原生小程序，也可以嵌套H5网页，嵌套进去的我们就称为业务域名。但是必须这个域名或者网站是你自己的，因为添加业务域名需要向域名服务器上传文件验证这个网站是你的才可以。具体操作如下：
	+ 打开微信小程序控制台，进入开发部分
	+ 进入开发设置，滑动到业务域名进行配置
	+ 需要上传文件到业务域名下

+ <font color=#1E90FF>服务域名</font>：小程序请求后端获取数据，必须是`https`的，而且需要添加后端请求地址，这个比较简单，添加即可，不需要上传文件证明服务器是你的，具体操作如下：
	+ 打开微信小程序控制台，进入开发部分
	+ 进入开发设置，滑动到服务器域名进行配置
	+ 必须是`https`的地址

+ <font color=#1E90FF>线上最低基础库设置</font>：实际上是设置微信里SDK的最低版本，因为有些功能，比如地图功能，对用户使用的微信SDK版本是有要求的，具体操作如下：
	+ 打开微信小程序控制台，进入设置部分
	+ 滑动到基础库最低版本设置，进行修改保存
	+ 这个设置会同步到微信开发工具里去

+ <font color=#1E90FF>成员管理，反馈管理，统计</font>：全部都在微信小程序控制台当中进行设置，比较简单，这里不过多赘述
+ <font color=#1E90FF>预览，真机调试，清缓存，上传</font>
	+ 在微信开发工具当中，预览是用来查看小程序UI布局等效果的。
	+ 逻辑调试需要使用到真机调试这个功能，扫描二维码会出现一个调试窗口，你在手机操作，会在电脑的调试窗口中显示调试信息
	+ 小程序的管理在管理> 版本管理
	+ 上传需要在微信开发工具当中点击上传，输入版本号和项目备注。然后会将编译后的代码上传，编译的时候会根据我们的设置去做一些工作，比如ES6转ES5,样式自动补全，代码压缩合并等等。上传成功后会在微信小程序后台出现一个新的版本的体验版，需要你点击`提交审核`，审核大概需要一天，审核通过后点击`发布`，即可真正将小程序部署发布了。


## Node服务部署
部署流程：
+	<font color=#1E90FF>环境安装</font>：主要安装`Node`环境
+	<font color=#1E90FF>数据库安装</font>：安装`mongodb`
+	<font color=#1E90FF>代码上传</font>：`ftp`或者`ssh`
+	<font color=#1E90FF>Nginx配置</font>：在`nginx/conf/ngnx.conf.default`中进行设置
+	<font color=#1E90FF>Node服务配置</font>：使用`pm2`去启动和管理项目
